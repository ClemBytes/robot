\hypertarget{lib__server_8h}{}\doxysection{lib\+\_\+server.\+h File Reference}
\label{lib__server_8h}\index{lib\_server.h@{lib\_server.h}}
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include \char`\"{}string.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}base64.\+h\char`\"{}}\newline
Include dependency graph for lib\+\_\+server.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=291pt]{lib__server_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=146pt]{lib__server_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structtemplates}{templates}}
\begin{DoxyCompactList}\small\item\em A structure for storing data used by HTTP responses. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{lib__server_8h_a59b436cc4e0267cdf5985c77e9decb32}{string\+\_\+append\+\_\+literal}}(x,  y)~\mbox{\hyperlink{string_8h_a118dfafb4be2b960c1a510d02e2a6107}{string\+\_\+append\+\_\+with\+\_\+size}}(x, y, (sizeof y) -\/ 1)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{lib__server_8h_a8370b095599cdaf84922865edc723491}{templates\+\_\+init}} (struct \mbox{\hyperlink{structtemplates}{templates}} $\ast$p\+\_\+tem)
\begin{DoxyCompactList}\small\item\em Initializes a template structure by opening and reading all files. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lib__server_8h_a1a1b4741291645bdc35433c362196f85}{templates\+\_\+deinit}} (struct \mbox{\hyperlink{structtemplates}{templates}} $\ast$p\+\_\+tem)
\begin{DoxyCompactList}\small\item\em Frees (de-\/initializes) memory used by a template structure. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lib__server_8h_add4e6dfd2f50795690664d8de2b749dd}{parse\+\_\+client\+\_\+request}} (const char $\ast$client\+\_\+request, size\+\_\+t data\+\_\+len, char $\ast$method, char $\ast$path, char $\ast$version, int $\ast$p\+\_\+cookie\+\_\+x, int $\ast$p\+\_\+cookie\+\_\+y, int $\ast$p\+\_\+cookie\+\_\+found)
\begin{DoxyCompactList}\small\item\em Parses a client request and gets all needed information\+: \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lib__server_8h_ab429e46461d7a56f9644c07db5609430}{generate\+\_\+html\+\_\+table}} (struct \mbox{\hyperlink{structstring}{string}} $\ast$robot\+\_\+grid, const int x\+\_\+max, const int y\+\_\+max, const int x\+\_\+coord, const int y\+\_\+coord)
\begin{DoxyCompactList}\small\item\em Generates the HTML table with the robot in the good case from given coordinates. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{lib__server_8h_a59b436cc4e0267cdf5985c77e9decb32}\label{lib__server_8h_a59b436cc4e0267cdf5985c77e9decb32}} 
\index{lib\_server.h@{lib\_server.h}!string\_append\_literal@{string\_append\_literal}}
\index{string\_append\_literal@{string\_append\_literal}!lib\_server.h@{lib\_server.h}}
\doxysubsubsection{\texorpdfstring{string\_append\_literal}{string\_append\_literal}}
{\footnotesize\ttfamily \#define string\+\_\+append\+\_\+literal(\begin{DoxyParamCaption}\item[{}]{x,  }\item[{}]{y }\end{DoxyParamCaption})~\mbox{\hyperlink{string_8h_a118dfafb4be2b960c1a510d02e2a6107}{string\+\_\+append\+\_\+with\+\_\+size}}(x, y, (sizeof y) -\/ 1)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{lib__server_8h_ab429e46461d7a56f9644c07db5609430}\label{lib__server_8h_ab429e46461d7a56f9644c07db5609430}} 
\index{lib\_server.h@{lib\_server.h}!generate\_html\_table@{generate\_html\_table}}
\index{generate\_html\_table@{generate\_html\_table}!lib\_server.h@{lib\_server.h}}
\doxysubsubsection{\texorpdfstring{generate\_html\_table()}{generate\_html\_table()}}
{\footnotesize\ttfamily void generate\+\_\+html\+\_\+table (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structstring}{string}} $\ast$}]{robot\+\_\+grid,  }\item[{const int}]{x\+\_\+max,  }\item[{const int}]{y\+\_\+max,  }\item[{const int}]{x\+\_\+coord,  }\item[{const int}]{y\+\_\+coord }\end{DoxyParamCaption})}



Generates the HTML table with the robot in the good case from given coordinates. 


\begin{DoxyParams}{Parameters}
{\em robot\+\_\+grid} & Pointer for the result. \\
\hline
{\em x\+\_\+max} & Value max for x (so number of lines in the grid). \\
\hline
{\em y\+\_\+max} & Value max for y (so number of columns in the grid). \\
\hline
{\em x\+\_\+coord} & Robot\textquotesingle{}s x coordinate. \\
\hline
{\em y\+\_\+coord} & Robot\textquotesingle{}s y coordinate. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{lib__server_8h_add4e6dfd2f50795690664d8de2b749dd}\label{lib__server_8h_add4e6dfd2f50795690664d8de2b749dd}} 
\index{lib\_server.h@{lib\_server.h}!parse\_client\_request@{parse\_client\_request}}
\index{parse\_client\_request@{parse\_client\_request}!lib\_server.h@{lib\_server.h}}
\doxysubsubsection{\texorpdfstring{parse\_client\_request()}{parse\_client\_request()}}
{\footnotesize\ttfamily void parse\+\_\+client\+\_\+request (\begin{DoxyParamCaption}\item[{const char $\ast$}]{client\+\_\+request,  }\item[{size\+\_\+t}]{data\+\_\+len,  }\item[{char $\ast$}]{method,  }\item[{char $\ast$}]{path,  }\item[{char $\ast$}]{version,  }\item[{int $\ast$}]{p\+\_\+cookie\+\_\+x,  }\item[{int $\ast$}]{p\+\_\+cookie\+\_\+y,  }\item[{int $\ast$}]{p\+\_\+cookie\+\_\+found }\end{DoxyParamCaption})}



Parses a client request and gets all needed information\+: 

From the first line of the request\+:
\begin{DoxyItemize}
\item method (e.\+g. GET, POSTâ€¦)
\item path (e.\+g. /data/template.css)
\item HTTP version (e.\+g. HTTP/1)
\end{DoxyItemize}

From the cookies\+:
\begin{DoxyItemize}
\item Are there cookies or not ?
\item If yes, x and y coordinates of robot.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em client\+\_\+request} & Pointer to the client\textquotesingle{}s request string. \\
\hline
{\em data\+\_\+len} & Size of client\textquotesingle{}s request. \\
\hline
{\em method} & Pointer for the method (initialze with {\ttfamily char method\mbox{[}16\mbox{]};}). \\
\hline
{\em path} & Pointer for the path. (initialze with {\ttfamily char path\mbox{[}1024\mbox{]};}). \\
\hline
{\em version} & Pointer for the version (initialze with {\ttfamily char version\mbox{[}16\mbox{]};}). \\
\hline
{\em p\+\_\+cookie\+\_\+x} & Pointer for the x coordinate in the cookies. \\
\hline
{\em p\+\_\+cookie\+\_\+y} & Pointer for the y coordinate in the cookies. \\
\hline
{\em p\+\_\+cookie\+\_\+found} & Pointer for a boolean to know if there is a cookie\+: 1 if cookie was found, otherwise 0. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{lib__server_8h_a1a1b4741291645bdc35433c362196f85}\label{lib__server_8h_a1a1b4741291645bdc35433c362196f85}} 
\index{lib\_server.h@{lib\_server.h}!templates\_deinit@{templates\_deinit}}
\index{templates\_deinit@{templates\_deinit}!lib\_server.h@{lib\_server.h}}
\doxysubsubsection{\texorpdfstring{templates\_deinit()}{templates\_deinit()}}
{\footnotesize\ttfamily void templates\+\_\+deinit (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structtemplates}{templates}} $\ast$}]{p\+\_\+tem }\end{DoxyParamCaption})}



Frees (de-\/initializes) memory used by a template structure. 


\begin{DoxyParams}{Parameters}
{\em p\+\_\+tem} & Pointer to the template structure to de-\/initialize. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{lib__server_8h_a8370b095599cdaf84922865edc723491}\label{lib__server_8h_a8370b095599cdaf84922865edc723491}} 
\index{lib\_server.h@{lib\_server.h}!templates\_init@{templates\_init}}
\index{templates\_init@{templates\_init}!lib\_server.h@{lib\_server.h}}
\doxysubsubsection{\texorpdfstring{templates\_init()}{templates\_init()}}
{\footnotesize\ttfamily void templates\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structtemplates}{templates}} $\ast$}]{p\+\_\+tem }\end{DoxyParamCaption})}



Initializes a template structure by opening and reading all files. 

Uses the \mbox{\hyperlink{base64_8h_a556f21fd5815d02a4f37a0a955078448}{open\+\_\+and\+\_\+read()}} function from \mbox{\hyperlink{base64_8h}{base64.\+h}}.


\begin{DoxyParams}{Parameters}
{\em p\+\_\+tem} & Pointer to the template structure to initialize. \\
\hline
\end{DoxyParams}
